#summary Instructions for building and installing for use with MythTV
= Introduction =

CoreAVC can be used with MythTV in 2 ways:
 * Use dshowserver and apply the dshowserver patch to mythtv (x86_64 and ia32)
 * Load the directshow code directly into mythtv using the libdshowloader patch (ia32 only)

The following details the dshowserver method.  Instructions for installing via libdshowloader  can be found <<PUT LINK HERE>>

= Details =

1) Download the code from svn:
{{{
svn checkout http://coreavc-for-linux.googlecode.com/svn/trunk/ coreavc-for-linux 
cd coreavc-for-linux
}}}

2) Install dshowserver
  * Choose one of the following options:
    # Build from source (ia32 only)
{{{
cd dshowserver
make
cd ..
}}}
    # Download static binaries (for x86_64)
      download the latest binary from [http://code.google.com/p/coreavc-for-linux/downloads/list here], then:
{{{
cd dshowserver
tar -xjf <path to dshowserver-ia32-rxxx.tar.bz2
}}}
  * Once you have the necessary binaries, do:
{{{
cp dshowserver /usr/local/bin
cp ../loader/registercdec /usr/local/bin 
}}}

3) Install the mythtv patch
{{{
cd <path to mythsrc>
patch -p0 < <path to coreavc-for-linux>/mythtv/dshowserver.patch
make
make install
cp <path to coreavc-for-linux>/mythtv/dshowcodecs ~/.mythtv 
}}}

4) Install CoreAVC to /usr/lib/win32/CoreAVCDecoder.ax

5) Install CoreAVC license info
<put directions here>

6) Verify that dshowserver is working
{{{
dshowserver -c CoreAVCDecoder.ax -s 1280x720 -g 09571a4b-f1fe-4c60-9760de6d310c7c31 -b 12 -f 0x34363248 -o 0x30323449
}}}
Should return:
{{{
shm:/dshow_shm.
sem1:/dshow_sem1.
sem2:/dshow_sem2.
Opening device
Decoder supports the following YUV formats: YUY2 IYUV YV12 I420
Decoder is capable of YUV output (flags 0x27)
Setting fmt
Starting
Initialization is complete
shm_open failed: No such file or directory 
}}}